def getNumberAbove(h, x):
    nodeCount = 2 ** h - 1
    if x == nodeCount:
        return -1 # There is no node above.
    elif x % (nodeCount / 2) == 0:
        return nodeCount
        # Return the number of nodes because it is just below the root node.
        
    elif x < (nodeCount / 2):
        # It is in the left subtree
        return getNumberAbove(h - 1, x)
        # It will be as if it were a tree of one less height.
    elif x > (nodeCount / 2):
        # It is in the right subtree,
        # it has the same answer as the corresponding node
        # in the left subtree does, plus half the
        # number of nodes
        return getNumberAbove(h - 1, x - (nodeCount / 2)) + (nodeCount / 2)
    else:
        return -1 # should never happen

def solution(h, q):
    result = []
    for curr in q:
        result.append(getNumberAbove(h, curr))
    return result

